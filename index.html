<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Estudio DQ - Juego de Preguntas</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff6b9d, #4facfe, #00f2fe);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        h1 {
            color: #d32241;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        h2 {
            color: #007ac1;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        #question-screen h2 {
            min-height: 80px;
        }

        p {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .btn {
            background: #d32241;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(211, 34, 65, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(211, 34, 65, 0.4);
        }
        
        .btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #options-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .option {
            background: #f0f0f0;
            border: 2px solid transparent;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            color: #333;
        }

        .option:hover {
            background: #e0e0e0;
            border-color: #4facfe;
        }
        
        .option.selected {
            background: #4facfe;
            color: white;
            border-color: #007ac1;
        }

        .option.correct {
            background-color: #28a745;
            color: white;
            border-color: #218838;
        }

        .option.incorrect {
            background-color: #dc3545;
            color: white;
            border-color: #c82333;
        }

        #progress-container {
            text-align: right;
            color: #555;
            font-weight: 600;
        }

        #game-stats-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        #score-container .score-item {
            font-weight: 600;
            font-size: 1rem;
            margin-right: 15px;
        }

        #score-container .correct-text {
            color: #218838;
        }

        #score-container .incorrect-text {
            color: #c82333;
        }

        #result-screen p {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .evaluation {
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.3rem;
            padding: 15px;
            border-radius: 10px;
        }

        .evaluation.avanzado {
            background-color: #d4edda;
            color: #155724;
        }

        .evaluation.intermedio {
            background-color: #fff3cd;
            color: #856404;
        }

        .evaluation.basico {
            background-color: #f8d7da;
            color: #721c24;
        }

    </style>
</head>
<body>

<div class="game-container">
    <!-- Start Screen -->
    <div id="start-screen" class="screen active">
        <h1>Juego de Preguntas DQ</h1>
        <p>Pon a prueba tus conocimientos sobre el Manual de Operaciones de Dairy Queen. Responde 150 preguntas y descubre tu nivel de preparación. ¡Mucha suerte!</p>
        <button id="start-btn" class="btn">Comenzar Juego</button>
    </div>

    <!-- Question Screen -->
    <div id="question-screen" class="screen">
        <h2 id="question-text"></h2>
        <div id="options-container"></div>
        <div id="game-stats-container">
            <div id="score-container">
                <span class="score-item correct-text">Correctas: <span id="correct-score">0</span></span>
                <span class="score-item incorrect-text">Incorrectas: <span id="incorrect-score">0</span></span>
            </div>
            <div id="progress-container">
                Pregunta <span id="current-question"></span> / <span id="total-questions"></span>
            </div>
        </div>
        <button id="next-btn" class="btn" style="margin-top: 20px;" disabled>Siguiente</button>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="screen">
        <h1>Resultados Finales</h1>
        <p>Has completado el juego. Aquí están tus resultados:</p>
        <p>Total de Preguntas: <span id="final-total"></span></p>
        <p>Respuestas Correctas: <span id="final-correct"></span></p>
        <p>Respuestas Incorrectas: <span id="final-incorrect"></span></p>
        <div id="evaluation-level" class="evaluation">
            Tu nivel es <span id="evaluation-level-span"></span>
        </div>
        <button id="restart-btn" class="btn" style="margin-top: 30px;">Jugar de Nuevo</button>
    </div>
</div>

<script>
    const startScreen = document.getElementById('start-screen');
    const questionScreen = document.getElementById('question-screen');
    const resultScreen = document.getElementById('result-screen');
    const startBtn = document.getElementById('start-btn');
    const nextBtn = document.getElementById('next-btn');
    const restartBtn = document.getElementById('restart-btn');

    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const currentQuestionSpan = document.getElementById('current-question');
    const totalQuestionsSpan = document.getElementById('total-questions');
    const correctScoreSpan = document.getElementById('correct-score');
    const incorrectScoreSpan = document.getElementById('incorrect-score');

    const finalTotalSpan = document.getElementById('final-total');
    const finalCorrectSpan = document.getElementById('final-correct');
    const finalIncorrectSpan = document.getElementById('final-incorrect');
    const evaluationLevelSpan = document.getElementById('evaluation-level-span');

    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let incorrectAnswers = 0;
    let selectedOption = null;

    // BANCO DE 150 PREGUNTAS
    const questions = [
        // Page 1: Psychological First Aid & Evaluations
        { question: "¿Cuál es el primer paso en una emergencia psicológica?", options: ["Dar consejos", "Llamar a un profesional", "Escucha activa y acompañamiento", "Ofrecer un vaso de agua"], answer: "Escucha activa y acompañamiento" },
        { question: "Antes de tocar a una persona en crisis, ¿qué debes hacer?", options: ["Avisarle que lo vas a tocar", "Pedir su autorización", "Tocarlo suavemente en el hombro", "No tocarlo nunca"], answer: "Pedir su autorización" },
        { question: "En la técnica de respiración de primeros auxilios, ¿cómo se debe respirar?", options: ["Inhalar por la boca, exhalar por la nariz", "Inhalar y exhalar por la boca", "Respirar rápidamente", "Inhalar por la nariz y exhalar por la boca"], answer: "Inhalar por la nariz y exhalar por la boca" },
        { question: "Después de una crisis, ¿cuál es la recomendación final?", options: ["Decirle que olvide lo sucedido", "Canalizar a un profesional", "Darle un medicamento", "Dejarlo solo para que reflexione"], answer: "Canalizar a un profesional" },
        { question: "¿Qué significa PRIDE en la filosofía de DQ®?", options: ["Personal Responsability In Delivery Excellence", "Productividad, Respeto, Integridad y Excelencia", "Preparación Rápida, Increíble y Deliciosa", "Personas Responsables de la Entrega Excelente"], answer: "Personal Responsability In Delivery Excellence" },
        { question: "¿Cuáles son las tres maneras en que se evalúan las tiendas?", options: ["PRIDE, Walk-Thru y FSAC", "Ventas, Limpieza y Servicio", "Gerente, Empleados y Clientes", "Calidad, Rapidez y Amabilidad"], answer: "PRIDE, Walk-Thru y FSAC" },
        
        // Page 2: PRIDE, Walk-Thru & FSAC
        { question: "Según las bases de PRIDE, 'Prepararse' incluye:", options: ["Sonreír al cliente", "Uniforme completo y manos limpias", "Agradecer al cliente", "Servir el producto correctamente"], answer: "Uniforme completo y manos limpias" },
        { question: "'Conectar' con el cliente según PRIDE implica:", options: ["Tener la tienda limpia", "Ofrecer el producto del día", "Sonreír, saludar y contacto visual", "Preparar el pedido rápidamente"], answer: "Sonreír, saludar y contacto visual" },
        { question: "¿Qué se debe hacer en el paso 'Entregar' de PRIDE?", options: ["Revisar el inventario", "Limpiar las mesas", "Servir con una sonrisa y agradecer", "Tomar la orden"], answer: "Servir con una sonrisa y agradecer" },
        { question: "El objetivo final de PRIDE es:", options: ["Vender más pasteles", "Reducir costos", "Crear fans, no solo clientes", "Obtener buenas calificaciones"], answer: "Crear fans, no solo clientes" },
        { question: "¿Quién realiza la evaluación 'Walk-Thru'?", options: ["Un cliente misterioso", "El Gerente de Operaciones", "Una compañía externa", "El gerente de la tienda"], answer: "El Gerente de Operaciones" },
        { question: "¿Qué significa FSAC?", options: ["First Service And Control", "Food Safety And Quality Control", "Fast Service And Quality", "Food Service And Cleanliness"], answer: "Food Safety And Quality Control" },
        { question: "¿Con qué calificación se aprueba la auditoría FSAC?", options: ["70%", "90%", "85%", "100%"], answer: "85%" },
        
        // Page 3: FSAC Violations & Food Safety
        { question: "Si una tienda reprueba el FSAC, ¿qué sucede?", options: ["La tienda cierra permanentemente", "Se le da una advertencia verbal", "Hay re-entrenamiento y re-auditoría en 30 días", "Se le descuenta el sueldo al gerente"], answer: "Hay re-entrenamiento y re-auditoría en 30 días" },
        { question: "¿Qué es una violación crítica en FSAC?", options: ["Uniforme sucio", "Algo que puede provocar una enfermedad", "Piso mojado", "Mala actitud con el cliente"], answer: "Algo que puede provocar una enfermedad" },
        { question: "¿Cuántas violaciones críticas son necesarias para reprobar automáticamente el FSAC?", options: ["Una", "Tres", "Cinco", "Diez"], answer: "Una" },
        { question: "La 'Zona de peligro de temperatura' para los alimentos se encuentra entre:", options: ["0°C y 20°C", "5°C y 60°C", "10°C y 70°C", "0°F y 100°F"], answer: "5°C y 60°C" },
        { question: "¿Por cuánto tiempo máximo pueden estar los alimentos en la zona de peligro?", options: ["8 horas", "4 horas", "6 horas", "2 horas"], answer: "4 horas" },
        { question: "¿A qué temperatura deben mantenerse los alimentos calientes?", options: ["50°C", "Arriba de 60°C", "45°C", "Arriba de 75°C"], answer: "Arriba de 60°C" },
        
        // Page 4: Temperature Logs & Personal Hygiene
        { question: "¿A qué temperatura deben mantenerse los alimentos fríos?", options: ["10°C o menos", "Debajo de 5°C", "0°C", "Entre 5°C y 10°C"], answer: "Debajo de 5°C" },
        { question: "¿Con qué frecuencia se deben registrar las temperaturas de los equipos?", options: ["Una vez al día", "Cada 8 horas", "Mínimo 3 veces por turno", "Cuando haya una auditoría"], answer: "Mínimo 3 veces por turno" },
        { question: "¿Qué se debe hacer si un equipo está fuera de rango de temperatura?", options: ["Ignorarlo si es por poco tiempo", "Avisar al gerente y mover el producto", "Esperar a que se componga solo", "Anotarlo y no hacer nada más"], answer: "Avisar al gerente y mover el producto" },
        { question: "¿Qué es un contaminante biológico?", options: ["Vidrio o metal", "Bacterias, virus, parásitos", "Sanitizante", "Polvo"], answer: "Bacterias, virus, parásitos" },
        { question: "Un ejemplo de contaminante químico es:", options: ["Cabello", "Tierra", "Sanitizante", "Un arete"], answer: "Sanitizante" },
        { question: "Las uñas deben estar:", options: ["Largas y con esmalte", "Cortas, limpias y sin esmalte", "Con esmalte transparente", "Como el empleado prefiera"], answer: "Cortas, limpias y sin esmalte" },
        
        // Page 5: Hand Washing & Illness
        { question: "No se permite el uso de joyería como:", options: ["Anillo de matrimonio liso", "Relojes y pulseras", "Aretes pequeños", "Collar debajo del uniforme"], answer: "Relojes y pulseras" },
        { question: "¿Cuánto tiempo debe durar el lavado de manos (tallado con jabón)?", options: ["5 segundos", "10 a 15 segundos", "30 segundos", "1 minuto"], answer: "10 a 15 segundos" },
        { question: "Después de lavarse las manos, ¿cómo se deben secar?", options: ["Con el mandil", "Sacudiéndolas al aire", "Con toallas de papel de un solo uso", "Con un trapo de tela"], answer: "Con toallas de papel de un solo uso" },
        { question: "¿Cuándo es obligatorio lavarse las manos?", options: ["Después de tocar dinero", "Después de ir al baño", "Después de tocarse la cara", "Todas las anteriores"], answer: "Todas las anteriores" },
        { question: "Un empleado NO debe trabajar si tiene síntomas como:", options: ["Dolor de cabeza leve", "Vómito, diarrea o fiebre", "Cansancio", "Dolor muscular"], answer: "Vómito, diarrea o fiebre" },
        { question: "Si un empleado se corta, ¿qué debe hacer?", options: ["Seguir trabajando con cuidado", "Lavar la herida y cubrirla con una bandita y un guante", "Solo ponerse una bandita", "Irse a casa inmediatamente"], answer: "Lavar la herida y cubrirla con una bandita y un guante" },
        
        // Page 6: Uniform Policy
        { question: "La camisa del uniforme debe estar:", options: ["Desabotonada arriba", "Fajada todo el tiempo", "Por fuera del pantalón", "Arremangada"], answer: "Fajada todo el tiempo" },
        { question: "¿Qué tipo de pantalón es aceptable para el uniforme?", options: ["Pantalón de mezclilla azul", "Pantalón de gabardina negro o azul marino", "Pants deportivos", "Leggings"], answer: "Pantalón de gabardina negro o azul marino" },
        { question: "El calzado requerido para el uniforme es:", options: ["Tenis de cualquier color", "Sandalias", "Zapatos negros antiderrapantes", "Botas de trabajo"], answer: "Zapatos negros antiderrapantes" },
        { question: "¿Cómo debe estar el cabello?", options: ["Suelto si está corto", "Recogido y cubierto con una gorra o red", "Teñido de colores brillantes", "Con gel o spray"], answer: "Recogido y cubierto con una gorra o red" },
        { question: "¿Qué pieza del uniforme es obligatoria para todos los empleados?", options: ["Gorra o visera con logo de DQ", "Mandil", "Sudadera de DQ", "Pin con su nombre"], answer: "Gorra o visera con logo de DQ" },
        { question: "El uso de mandil es obligatorio para:", options: ["Solo los que preparan alimentos", "Todos los empleados en turno", "Solo el gerente", "Quienes atienden en caja"], answer: "Todos los empleados en turno" },
        
        // Page 7: Product Hold Times (Grill)
        { question: "¿Cuál es el tiempo de vida de la carne de hamburguesa una vez cocida?", options: ["30 minutos", "15 minutos", "60 minutos", "10 minutos"], answer: "15 minutos" },
        { question: "¿Cuánto tiempo puede mantenerse el pollo (chicken strips) en la mantenedora?", options: ["45 minutos", "60 minutos", "30 minutos", "20 minutos"], answer: "30 minutos" },
        { question: "¿Cuál es la vida en anaquel del pan de hamburguesa una vez abierto el paquete?", options: ["Hasta la fecha de caducidad", "24 horas", "3 días", "48 horas"], answer: "24 horas" },
        { question: "Los vegetales preparados (lechuga, jitomate, cebolla) tienen una vida de anaquel de:", options: ["12 horas", "Fin de turno", "4 horas", "24 horas"], answer: "Fin de turno" },
        { question: "El queso americano fuera de refrigeración dura:", options: ["8 horas", "4 horas", "Todo el día", "2 horas"], answer: "4 horas" },
        
        // Page 8: Product Hold Times (Fryer, Toppings)
        { question: "Una vez cocidas, ¿cuál es el tiempo de vida de las papas a la francesa?", options: ["15 minutos", "5 minutos", "10 minutos", "7 minutos"], answer: "7 minutos" },
        { question: "¿Cuál es la vida de anaquel de los aros de cebolla cocidos?", options: ["7 minutos", "10 minutos", "5 minutos", "15 minutos"], answer: "5 minutos" },
        { question: "Las frutas en la mesa de toppings (fresa, piña, etc.) tienen una vida de:", options: ["24 horas", "4 horas", "8 horas", "12 horas"], answer: "4 horas" },
        { question: "Los toppings secos (chispas, nuez, etc.) en la mesa de toppings duran:", options: ["Una semana", "24 horas", "48 horas", "Hasta que se acaben"], answer: "24 horas" },
        { question: "El chocolate para cono (cone dip) en la olla tiene una vida útil de:", options: ["Fin de turno", "4 horas", "12 horas", "8 horas"], answer: "Fin de turno" },
        
        // Page 9: FIFO & Thawing
        { question: "¿Qué significa el sistema PEPS (o FIFO en inglés)?", options: ["Producto Especial Para Servir", "Primero en Entrar, Primero en Salir", "Poner Encima Para Sacar", "Pedido Especial Para Supervisor"], answer: "Primero en Entrar, Primero en Salir" },
        { question: "El propósito del sistema PEPS es:", options: ["Asegurar la rotación de producto y reducir merma", "Vender los productos más caros primero", "Facilitar el conteo de inventario", "Ordenar la bodega por tamaño"], answer: "Asegurar la rotación de producto y reducir merma" },
        { question: "¿Cuál es el método correcto para descongelar la carne?", options: ["En el microondas", "Bajo el chorro de agua caliente", "En refrigeración", "A temperatura ambiente"], answer: "En refrigeración" },
        { question: "¿Cuánto tiempo antes se debe sacar la carne para descongelar en refrigeración?", options: ["12 horas", "48 horas", "24 horas", "6 horas"], answer: "24 horas" },
        { question: "El producto descongelado debe usarse dentro de un máximo de:", options: ["24 horas", "72 horas", "48 horas", "Una semana"], answer: "72 horas" },
        
        // Page 10: Sanitizer & Sinks
        { question: "El sanitizante Kay-5 se prepara diluyendo un sobre en:", options: ["5 litros de agua", "20 litros de agua", "10 litros de agua", "1 litro de agua"], answer: "10 litros de agua" },
        { question: "¿Para qué se usa la solución de Kay-5?", options: ["Para trapear el piso", "Para lavar y sanitizar utensilios y superficies", "Para lavarse las manos", "Para limpiar los baños"], answer: "Para lavar y sanitizar utensilios y superficies" },
        { question: "¿Cuál es el primer compartimento de la tarja de 3 compartimentos?", options: ["Enjuague", "Sanitizado", "Secado", "Lavado con jabón y agua caliente"], answer: "Lavado con jabón y agua caliente" },
        { question: "El segundo compartimento de la tarja de 3 se usa para:", options: ["Enjuagar con agua limpia", "Lavar con jabón", "Sanitizar", "Escurrir"], answer: "Enjuagar con agua limpia" },
        { question: "En el tercer compartimento de la tarja de 3, los utensilios se sumergen en sanitizante por:", options: ["10 segundos", "2 minutos", "30 segundos", "60 segundos"], answer: "60 segundos" },
        
        // Page 11: Test Strips & Cleaning Tools
        { question: "¿Cómo se deben secar los utensilios después de sanitizarlos?", options: ["Con un trapo seco", "Con una toalla de papel", "Al aire en un escurridor limpio", "Con una secadora de aire"], answer: "Al aire en un escurridor limpio" },
        { question: "La concentración del sanitizante (Kay-5) debe ser de:", options: ["50-100 ppm", "200-300 ppm", "150-250 ppm", "300-400 ppm"], answer: "150-250 ppm" },
        { question: "¿Para qué se utilizan las tiras reactivas?", options: ["Para medir la temperatura del agua", "Para verificar la concentración del sanitizante", "Para probar la calidad del aceite", "Para detectar bacterias en los alimentos"], answer: "Para verificar la concentración del sanitizante" },
        { question: "Los trapos para limpiar superficies de preparación de alimentos deben mantenerse en:", options: ["Una cubeta con agua y jabón", "Una cubeta con solución sanitizante", "Secos sobre la mesa", "En el bolsillo del mandil"], answer: "Una cubeta con solución sanitizante" },
        { question: "¿De qué color son los utensilios (pinzas, tablas) para productos de pollo CRUDO?", options: ["Rojo", "Verde", "Amarillo", "Azul"], answer: "Amarillo" },
        
        // Page 12: Cross-Contamination & Utensils
        { question: "Los utensilios de color rojo se utilizan para:", options: ["Pollo cocido", "Carne cruda", "Vegetales", "Pescado"], answer: "Carne cruda" },
        { question: "Para evitar la contaminación cruzada, ¿qué se debe hacer?", options: ["Lavar las manos frecuentemente", "Usar diferentes tablas y utensilios para crudos y cocidos", "Almacenar alimentos crudos debajo de los cocidos", "Todas las anteriores"], answer: "Todas las anteriores" },
        { question: "Las tablas de cortar verdes son para:", options: ["Carnes", "Pescado", "Frutas y vegetales", "Pan"], answer: "Frutas y vegetales" },
        { question: "Almacenar la carne cruda arriba de la lechuga en el refrigerador es un riesgo de:", options: ["Contaminación física", "Contaminación química", "Contaminación cruzada", "No es un riesgo"], answer: "Contaminación cruzada" },
        { question: "La cantidad correcta de mezcla para un Blizzard de 12 oz es:", options: ["Hasta el borde", "5 oz", "Una pulgada bajo el borde", "3/4 del vaso"], answer: "5 oz" },
        
        // Page 13: Guest Service Cycle
        { question: "¿Cuál es el primer paso en el Ciclo de Servicio al Cliente?", options: ["Tomar la orden", "Una cálida y sincera bienvenida", "Entregar el producto", "Recibir el pago"], answer: "Una cálida y sincera bienvenida" },
        { question: "Al tomar la orden, se debe:", options: ["Apresurar al cliente", "Escuchar atentamente y sugerir productos", "No hacer contacto visual", "Interrumpir para hacer preguntas"], answer: "Escuchar atentamente y sugerir productos" },
        { question: "El tercer paso del Ciclo de Servicio es:", options: ["Ensamblar la orden", "Agradecer al cliente", "Limpiar la mesa", "Invitar al cliente a regresar"], answer: "Ensamblar la orden" },
        { question: "¿Qué se debe hacer al entregar la orden?", options: ["Entregarla con una sonrisa y verificar que esté completa", "Solo colocarla en el mostrador", "Gritar el número de la orden", "Preguntar si quieren algo más"], answer: "Entregarla con una sonrisa y verificar que esté completa" },
        { question: "El último paso del ciclo de servicio es:", options: ["Cobrar", "Limpiar el lobby", "Una sincera despedida y agradecimiento", "Surtir el área de condimentos"], answer: "Una sincera despedida y agradecimiento" },
        
        // Page 14: BLAST & Drive-Thru
        { question: "El acrónimo BLAST para la recuperación de clientes significa:", options: ["Believe, Listen, Apologize, Satisfy, Thank", "Buy, Leave, Apologize, Say, Thanks", "Be fast, Look nice, Act professional, Smile, Thank", "Believe, Look, Act, Smile, Treat"], answer: "Believe, Listen, Apologize, Satisfy, Thank" },
        { question: "En BLAST, 'Listen' (Escuchar) significa:", options: ["Interrumpir para dar soluciones", "Dejar que el cliente se desahogue sin interrupciones", "Tomar notas de lo que dice", "Juzgar si la queja es válida"], answer: "Dejar que el cliente se desahogue sin interrupciones" },
        { question: "En el paso 'Satisfy' (Satisfacer) de BLAST, ¿qué se debe hacer?", options: ["Darle la razón al cliente siempre", "Ofrecer una solución razonable al problema", "Decirle que no se puede hacer nada", "Llamar al gerente inmediatamente"], answer: "Ofrecer una solución razonable al problema" },
        { question: "La meta de tiempo total en el Drive-Thru (desde la bocina hasta la salida) es:", options: ["5 minutos", "3 minutos", "2 minutos 30 segundos", "4 minutos"], answer: "2 minutos 30 segundos" },
        { question: "¿Cuál es la prioridad número uno en la operación de la tienda?", options: ["La limpieza", "El inventario", "El Drive-Thru", "Las ventas de pasteles"], answer: "El Drive-Thru" },
        
        // Page 15: Drive-Thru Speed & Cake Sales
        { question: "Para agilizar el servicio en Drive-Thru, se recomienda:", options: ["Tener un solo empleado atendiendo", "Usar frases cortas y claras", "No ofrecer postres", "Esperar a que el cliente pregunte todo"], answer: "Usar frases cortas y claras" },
        { question: "El empleado que toma la orden en Drive-Thru debe usar:", options: ["Un tono de voz monótono", "Un tono de voz sonriente y entusiasta", "Un volumen muy alto", "Palabras muy técnicas"], answer: "Un tono de voz sonriente y entusiasta" },
        { question: "¿Qué se debe hacer si un pedido en Drive-Thru va a tardar?", options: ["Pedirle al cliente que espere en la ventana", "Cancelar el pedido", "Pedirle amablemente que se estacione en un lugar designado", "Apresurar la cocina sacrificando la calidad"], answer: "Pedirle amablemente que se estacione en un lugar designado" },
        { question: "¿Cómo se debe promover la venta de pasteles?", options: ["Mencionándolos a cada cliente", "Teniendo la exhibición limpia, llena y atractiva", "Poniendo un letrero afuera", "Todas las anteriores"], answer: "Todas las anteriores" },
        { question: "Al entregar un pastel, ¿qué se debe hacer?", options: ["Solo meterlo en una bolsa", "Abrir la caja y mostrárselo al cliente para su aprobación", "Decirle el precio de nuevo", "Pedirle que lo revise en su casa"], answer: "Abrir la caja y mostrárselo al cliente para su aprobación" },
        
        // Page 16: Blizzard Preparation
        { question: "¿Cuál es el estándar de calidad que debe cumplir cada Blizzard?", options: ["Debe ser servido con una cuchara larga", "Debe ser volteado sin que se derrame", "Debe tener un domo de crema batida", "Debe llevar chispas de chocolate"], answer: "Debe ser volteado sin que se derrame" },
        { question: "¿A qué velocidad se debe mezclar un Blizzard?", options: ["A la más alta por 10 segundos", "A la más baja por 1 minuto", "Cerca de 100 RPM", "Depende del ingrediente"], answer: "Cerca de 100 RPM" },
        { question: "Si un Blizzard no pasa la prueba de ser volteado, ¿qué se debe hacer?", options: ["Servirlo de todas formas", "Volverlo a mezclar", "Añadir más mezcla", "Desecharlo y hacerlo de nuevo"], answer: "Desecharlo y hacerlo de nuevo" },
        { question: "El husillo (spindle) de la máquina de Blizzard debe ser:", options: ["Enjuagado con agua después de cada uso", "Limpiado con un trapo", "Sanitizado cada 4 horas", "Lavado solo al final del día"], answer: "Enjuagado con agua después de cada uso" },
        { question: "Para un Blizzard, los ingredientes (toppings) se añaden:", options: ["Después de mezclar la nieve", "Antes de poner la nieve en el vaso", "Después de poner la nieve y antes de mezclar", "Al final como decoración"], answer: "Después de poner la nieve y antes de mezclar" },
        
        // Page 17: Cones & Sundaes
        { question: "¿Cuál es la característica principal de un cono de nieve DQ?", options: ["El 'rizo' o 'copete' en la punta", "El tamaño del cono", "La temperatura de la nieve", "El color de la nieve"], answer: "El 'rizo' o 'copete' en la punta" },
        { question: "El peso estándar para un cono mediano es de:", options: ["3 oz", "7 oz", "5 oz", "9 oz"], answer: "5 oz" },
        { question: "Al preparar un cono cubierto de chocolate (dipped cone), la nieve debe estar:", options: ["Sumergida por completo hasta el barquillo", "Cubierta solo en la punta", "Sumergida por 10 segundos", "Parcialmente cubierta"], answer: "Sumergida por completo hasta el barquillo" },
        { question: "¿Cómo se debe servir un sundae?", options: ["La nieve debe tocar los lados del vaso", "Con el topping cubriendo toda la superficie de la nieve", "Con una bola de nieve en el centro", "Todas las anteriores"], answer: "Con una bola de nieve en el centro" },
        { question: "La cantidad de topping para un sundae mediano es de:", options: ["3 oz", "1 oz", "2 oz", "Depende del sabor"], answer: "2 oz" },
        
        // Page 18: Royal Treats & Shakes
        { question: "¿Qué distingue a un 'Royal Treat'?", options: ["Lleva un ingrediente especial en el centro", "Es más grande que un sundae", "Solo se vende en ciertas temporadas", "Viene en una copa especial"], answer: "Lleva un ingrediente especial en el centro" },
        { question: "En un Royal Rocky Road Brownie, el centro se rellena con:", options: ["Caramelo", "Malvaviscos", "Chocolate", "Fresas"], answer: "Malvaviscos" },
        { question: "Para preparar una malteada (shake), ¿qué ingredientes se usan?", options: ["Nieve, leche y saborizante", "Hielo, leche y fruta", "Yogurt, nieve y saborizante", "Nieve y jugo"], answer: "Nieve, leche y saborizante" },
        { question: "Una malteada bien preparada debe ser:", options: ["Tan espesa que no suba por el popote", "Lo suficientemente espesa para ser bebida con popote", "Líquida y ligera", "Caliente"], answer: "Lo suficientemente espesa para ser bebida con popote" },
        { question: "Los vasos y tapas de malteadas deben estar:", options: ["Almacenados cerca de la máquina", "Limpios y sanitizados", "Fríos", "A temperatura ambiente"], answer: "Limpios y sanitizados" },
        
        // Page 19: Waffles & Topping Cabinet
        { question: "¿Cómo debe ser servido un Waffle Bowl Sundae?", options: ["El waffle debe estar frío", "El waffle debe estar tibio y crujiente", "El waffle debe estar remojado en la nieve", "El waffle se sirve por separado"], answer: "El waffle debe estar tibio y crujiente" },
        { question: "La temperatura de la wafflera debe estar en un rango que permita:", options: ["Cocinar el waffle en 5 minutos", "Dorar el waffle sin quemarlo", "Mantener los waffles calientes todo el día", "Cocinarlo lentamente"], answer: "Dorar el waffle sin quemarlo" },
        { question: "El gabinete de toppings (Topping Cabinet) debe mantenerse a una temperatura de:", options: ["Congelación", "Ambiente", "Caliente (arriba de 60°C)", "Refrigeración (debajo de 5°C)"], answer: "Refrigeración (debajo de 5°C)" },
        { question: "Las bombas y cucharones de los toppings deben:", options: ["Dejarse dentro de los contenedores", "Lavarse y sanitizarse al menos cada 4 horas", "Limpiarse con un trapo húmedo", "Enjuagarse solo con agua"], answer: "Lavarse y sanitizarse al menos cada 4 horas" },
        { question: "Si un topping se contamina con otro, ¿qué se debe hacer?", options: ["Mezclarlos", "Retirar la parte contaminada", "Desechar todo el contenedor del topping contaminado", "Servirlo así"], answer: "Desechar todo el contenedor del topping contaminado" },
        
        // Page 20: Chill & Grill Standards
        { question: "La temperatura de la máquina de nieve (soft serve) debe ser de:", options: ["-10°C a -8°C", "-5°C a -4°C", "0°C", "1°C a 3°C"], answer: "-5°C a -4°C" },
        { question: "El 'overrun' en la nieve se refiere a:", options: ["La cantidad de mezcla que se desperdicia", "La cantidad de aire incorporado en la mezcla", "La velocidad a la que sale la nieve", "La temperatura final del producto"], answer: "La cantidad de aire incorporado en la mezcla" },
        { question: "La plancha (grill) debe limpiarse:", options: ["Solo al final del día", "Cada 4 horas", "Después de cada uso o cuando sea necesario", "Una vez por semana"], answer: "Después de cada uso o cuando sea necesario" },
        { question: "La temperatura del aceite de la freidora debe ser de aproximadamente:", options: ["150°C", "200°C", "177°C", "165°C"], answer: "177°C" },
        { question: "El aceite de la freidora debe ser filtrado:", options: ["Una vez a la semana", "Nunca", "Diariamente", "Cada mes"], answer: "Diariamente" },
        
        // Page 21: Machine Cleaning
        { question: "¿Con qué frecuencia se debe realizar el lavado completo de la máquina de nieve?", options: ["Diariamente", "Cada 3 días", "Semanalmente", "Cuando falle"], answer: "Diariamente" },
        { question: "Para lavar la máquina de nieve por la noche, se pasa una solución de:", options: ["Agua con jabón", "Agua caliente solamente", "10L de agua con un sobre de sanitizer KAY-5®", "Vinagre y agua"], answer: "10L de agua con un sobre de sanitizer KAY-5®" },
        { question: "Por la mañana, antes de armar la máquina de nieve, ¿qué se hace con las piezas?", options: ["Se secan con un trapo", "Se enjuagan y se arman", "Se lavan, sanitizan y se dejan listas", "Se lubrican con aceite vegetal"], answer: "Se lavan, sanitizan y se dejan listas" },
        { question: "Después de pasar el sanitizer por la máquina de nieve en la mañana, ¿qué se debe hacer?", options: ["Empezar a servir a los clientes", "Desechar la primera nieve que sale", "Enjuagarla con agua de la llave", "Esperar 30 minutos"], answer: "Desechar la primera nieve que sale" },
        { question: "El procedimiento de limpieza de la máquina de slush es:", options: ["Igual que la de nieve", "Similar al de la máquina de nieve, siguiendo sus especificaciones", "Solo se enjuaga con agua", "Se limpia solo por fuera"], answer: "Similar al de la máquina de nieve, siguiendo sus especificaciones" },
        
        // Page 22: Troubleshooting
        { question: "Si una máquina no enciende, ¿cuál es el primer paso a verificar?", options: ["Llamar a un técnico", "Que no haya otras máquinas en enchufes incorrectos", "Presionar el botón de RESET", "Revisar el manual de la máquina"], answer: "Que no haya otras máquinas en enchufes incorrectos" },
        { question: "El segundo paso si una máquina no funciona es:", options: ["Golpearla suavemente", "Desconectarla y volverla a conectar", "Revisar los térmicos (breakers)", "Verificar el nivel de aceite"], answer: "Revisar los térmicos (breakers)" },
        { question: "Si la máquina tiene un botón de RESET y no funciona, ¿qué se debe hacer?", options: ["Presionarlo repetidamente", "Presionarlo una vez y verificar si se solucionó", "No tocarlo, es peligroso", "Desarmar la máquina"], answer: "Presionarlo una vez y verificar si se solucionó" },
        { question: "Si después de los 3 pasos básicos la máquina sigue sin funcionar, se debe:", options: ["Intentar arreglarla uno mismo", "Dejarla apagada todo el día", "Llamar al gerente o al técnico autorizado", "Pedir una máquina nueva"], answer: "Llamar al gerente o al técnico autorizado" },
        { question: "Es importante NO conectar máquinas en enchufes que:", options: ["Estén en la pared", "No les corresponden", "Sean de color rojo", "Estén cerca del agua"], answer: "No les corresponden" }
    ];
    
    // Función para barajar las preguntas
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }


    // Muestra una pantalla y oculta las demás
    function showScreen(screen) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        screen.classList.add('active');
    }

    // Inicia el juego
    function startGame() {
        shuffle(questions);
        currentQuestionIndex = 0;
        correctAnswers = 0;
        incorrectAnswers = 0;
        correctScoreSpan.textContent = '0';
        incorrectScoreSpan.textContent = '0';
        showScreen(questionScreen);
        showQuestion();
    }
    
    // Muestra la pantalla de inicio
    function showStartScreen() {
        showScreen(startScreen);
    }

    // Muestra la pregunta actual y sus opciones
    function showQuestion() {
        selectedOption = null;
        const question = questions[currentQuestionIndex];
        questionText.textContent = question.question;
        optionsContainer.innerHTML = '';
        
        shuffle(question.options);

        question.options.forEach(option => {
            const button = document.createElement('button');
            button.textContent = option;
            button.classList.add('option');
            button.addEventListener('click', () => selectOption(button, option));
            optionsContainer.appendChild(button);
        });

        currentQuestionSpan.textContent = currentQuestionIndex + 1;
        totalQuestionsSpan.textContent = questions.length;
        nextBtn.disabled = true;
    }

    // Maneja la selección de una opción
    function selectOption(button, option) {
        if (selectedOption) return;

        selectedOption = button;
        const question = questions[currentQuestionIndex];
        const isCorrect = option === question.answer;

        if (isCorrect) {
            correctAnswers++;
            button.classList.add('correct');
        } else {
            incorrectAnswers++;
            button.classList.add('incorrect');
            // Muestra la respuesta correcta
            const correctButton = Array.from(optionsContainer.children).find(btn => btn.textContent === question.answer);
            if (correctButton) {
                correctButton.classList.add('correct');
            }
        }
        
        correctScoreSpan.textContent = correctAnswers;
        incorrectScoreSpan.textContent = incorrectAnswers;

        Array.from(optionsContainer.children).forEach(btn => {
            btn.style.pointerEvents = 'none'; // Deshabilita más clics
        });

        nextBtn.disabled = false;
    }
    
    // Pasa a la siguiente pregunta o muestra los resultados
    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            showQuestion();
        } else {
            showResults();
        }
    }

    // Muestra los resultados finales y la evaluación
    function showResults() {
        showScreen(resultScreen);
        finalTotalSpan.textContent = questions.length;
        finalCorrectSpan.textContent = correctAnswers;
        finalIncorrectSpan.textContent = incorrectAnswers;

        const percentage = (correctAnswers / questions.length) * 100;
        let level = '';
        let message = '';
        let className = '';

        if (percentage >= 85) {
            level = 'Avanzado';
            message = '¡Felicidades! Tienes un excelente dominio del manual. Estás listo para tu certificación.';
            className = 'avanzado';
        } else if (percentage >= 60) {
            level = 'Intermedio';
            message = 'Tienes un buen conocimiento, pero aún hay áreas de mejora. ¡Sigue practicando!';
            className = 'intermedio';
        } else {
            level = 'Básico';
            message = 'Tus conocimientos son básicos. Te recomiendo estudiar más el manual para alcanzar un nivel intermedio.';
            className = 'basico';
        }

        evaluationLevelSpan.textContent = `${level}: ${message}`;
        evaluationLevelSpan.parentElement.className = `evaluation ${className}`;
    }

    // Event listeners
    startBtn.addEventListener('click', startGame);
    nextBtn.addEventListener('click', nextQuestion);
    restartBtn.addEventListener('click', showStartScreen);
</script>
</body>
</html>

